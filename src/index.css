@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* KORAVO Design System - Decision Intelligence */

@layer base {
  :root {
    /* User Provided Light Theme */
    --background: oklch(1 0 0);
    --foreground: oklch(0.205 0 0);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.205 0 0);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.205 0 0);
    --primary: oklch(0.439 0 0);
    --primary-foreground: oklch(1 0 0);
    --secondary: oklch(0.556 0 0 / 0.075);
    --secondary-foreground: oklch(0.205 0 0);
    --muted: oklch(0.922 0 0);
    --muted-foreground: oklch(0.205 0 0 / 0.7);
    --accent: oklch(0.985 0 0);
    --accent-foreground: oklch(0.205 0 0);
    --destructive: oklch(0.808 0.114 19.571);
    --destructive-foreground: oklch(0.577 0.245 27.325);
    --border: oklch(0.708 0 0 / 0.4);
    --input: oklch(0.205 0 0 / 0.15);
    --ring: oklch(0.439 0 0);
    --chart-1: oklch(0.708 0 0);
    --chart-2: oklch(0.645 0.246 16.439);
    --chart-3: oklch(0.556 0 0);
    --chart-4: oklch(0.708 0 0);
    --chart-5: oklch(0.708 0 0);
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.205 0 0);
    --sidebar-primary: oklch(0 0 0 / 0.85);
    --sidebar-primary-foreground: oklch(1 0 0 / 0.85);
    --sidebar-accent: oklch(0.556 0 0 / 0.1);
    --sidebar-accent-foreground: oklch(0.205 0 0);
    --sidebar-border: oklch(0.205 0 0 / 0.125);
    --sidebar-ring: oklch(0.439 0 0);
    --radius: 0.25rem;
    
    /* Preserved Typography Settings */
    --font-sans: 'Satoshi', sans-serif;
    --font-serif: 'Newsreader', serif;

    /* Semantic mapping */
    --critical: var(--destructive);
    --high: var(--primary);
    --medium: var(--chart-4);
    --low: var(--chart-2);
    --success: var(--chart-2); /* Sage for success */
    --warning: var(--chart-4);
    --info: var(--chart-3);

    /* Confidence gradient mapping */
    --confidence-high: var(--success);
    --confidence-medium: var(--warning);
    --confidence-low: var(--critical);
    
    /* Custom shadows - Softer, more diffuse 'Ambience' */
    --shadow-glow: 0 0 40px oklch(0.35 0.1 270 / 0.08);
    --shadow-card: 0 4px 12px oklch(0.25 0.02 260 / 0.06);
    --shadow-elevated: 0 12px 32px oklch(0.25 0.02 260 / 0.08);

    /* Extra primary shades from user snippet */
    --primary-light: oklch(0.556 0 0);
    --primary-dark: oklch(0.439 0 0);
    --primary-ring: oklch(0.371 0 0);
  }

  .dark {
    /* Cyber / Dark Theme (Restored) */
    --background: oklch(0.141 0.005 285.823);
    --foreground: oklch(1 0 0);
    
    --card: oklch(0.21 0.006 285.885 / 0.6);
    --card-foreground: oklch(1 0 0);
    
    --popover: oklch(0.21 0.006 285.885);
    --popover-foreground: oklch(1 0 0);
    
    --primary: oklch(0.871 0.006 286.286);
    --primary-foreground: oklch(0.21 0.006 285.885);
    
    --secondary: oklch(1 0 0 / 0.1);
    --secondary-foreground: oklch(1 0 0);
    
    --muted: oklch(0.274 0.006 286.033);
    --muted-foreground: oklch(0.967 0.001 286.375 / 0.7);
    
    --accent: oklch(0.274 0.006 286.033);
    --accent-foreground: oklch(1 0 0);
    
    --destructive: oklch(0.577 0.245 27.325);
    --destructive-foreground: oklch(0.704 0.191 22.216);
    
    --border: oklch(1 0 0 / 0.2);
    --input: oklch(1 0 0 / 0.2);
    --ring: oklch(0.871 0.006 286.286);
    
    --chart-1: oklch(0.552 0.016 285.938);
    --chart-2: oklch(0.705 0.015 286.067);
    --chart-3: oklch(0.924 0.12 95.746);
    --chart-4: oklch(0.696 0.17 162.48);
    --chart-5: oklch(0.705 0.015 286.067);
    
    --sidebar: oklch(0.21 0.006 285.885 / 0.6);
    --sidebar-foreground: oklch(1 0 0);
    --sidebar-primary: oklch(1 0 0 / 0.85);
    --sidebar-primary-foreground: oklch(0 0 0 / 0.85);
    --sidebar-accent: oklch(1 0 0 / 0.1);
    --sidebar-accent-foreground: oklch(1 0 0);
    --sidebar-border: oklch(1 0 0 / 0.125);
    --sidebar-ring: oklch(0.442 0.017 285.786);

    /* Shadow overrides for dark mode */
    --shadow-glow: 0 0 40px oklch(0.871 0.006 286.286 / 0.1);
    --shadow-card: 0 4px 20px oklch(0 0 0 / 0.5);
    --shadow-elevated: 0 8px 40px oklch(0 0 0 / 0.6);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Satoshi', 'Inter', system-ui, sans-serif;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-background;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: color-mix(in srgb, var(--muted-foreground), transparent 50%);
  }
}

@layer components {
  /* Priority badges */
  .priority-critical {
    background-color: color-mix(in srgb, var(--critical), transparent 80%);
    @apply text-critical border;
    border-color: color-mix(in srgb, var(--critical), transparent 70%);
  }
  
  .priority-high {
    background-color: color-mix(in srgb, var(--high), transparent 80%);
    @apply text-high border;
    border-color: color-mix(in srgb, var(--high), transparent 70%);
  }
  
  .priority-medium {
    background-color: color-mix(in srgb, var(--medium), transparent 80%);
    @apply text-medium border;
    border-color: color-mix(in srgb, var(--medium), transparent 70%);
  }

  /* Confidence bar animation */
  .confidence-bar {
    @apply relative overflow-hidden rounded-full;
    background: linear-gradient(90deg, 
      var(--confidence-high) 0%, 
      var(--confidence-medium) 50%, 
      var(--confidence-low) 100%
    );
  }

  /* Decision card hover effect */
  .decision-card {
    @apply transition-all duration-300 ease-out;
  }

  .decision-card:hover {
    @apply shadow-glow;
    border-color: color-mix(in srgb, var(--primary), transparent 70%);
    transform: translateY(-2px);
  }

  /* Subtle pulse for critical items */
  @keyframes subtle-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  .pulse-critical {
    animation: subtle-pulse 3s ease-in-out infinite;
  }

  /* Fade in animation */
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.4s ease-out forwards;
  }

  /* Fade in down animation */
  @keyframes fade-in-down {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-down {
    animation: fade-in-down 0.4s ease-out forwards;
  }

  /* Stagger children */
  .stagger-children > * {
    @apply animate-fade-in-up;
  }

  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 50ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 150ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 200ms; }

  /* Mono font for metrics */
  .font-mono-metric {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500;
    letter-spacing: -0.02em;
  }

  /* Subtle gradient text */
  .gradient-text {
    background: linear-gradient(135deg, var(--foreground) 0%, var(--muted-foreground) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
